<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>奔驰星辉之路</title>
    <link rel="stylesheet" href="style.css">
    <!-- LeanCloud SDK -->
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
</head>
<body>
    <!-- 启动界面 -->
    <div id="start-screen" class="screen active">
        <div id="lang-switcher-container">
            <div id="lang-switcher">
                <button id="lang-zh" class="active">中文</button>
                <button id="lang-en">EN</button>
            </div>
        </div>
        <img src="images/star.png" alt="Star Logo" class="star-logo">
        <h1 class="game-title" data-lang-key="title">奔驰星辉之路</h1>
        <div class="menu">
            <button id="start-game-btn" data-lang-key="start_game">开始游戏</button>
            <button id="instructions-btn" data-lang-key="instructions">玩法说明</button>
            <button id="leaderboard-btn" data-lang-key="leaderboard">查看排行榜</button>
        </div>
    </div>

    <!-- 玩家名称输入弹窗 -->
    <div id="name-entry-modal" class="modal">
        <div class="modal-content">
            <h2 data-lang-key="enter_name_title">输入你的名字</h2>
            <input type="text" id="player-name-input" maxlength="10" data-lang-key-placeholder="enter_name_placeholder">
            <button id="confirm-name-btn" data-lang-key="confirm">确定</button>
        </div>
    </div>

    <!-- 玩法说明界面 -->
    <div id="instructions-screen" class="screen">
        <h2 data-lang-key="instructions">玩法说明</h2>
        <div id="instructions-content" class="instructions-content"></div>
        <button class="back-to-menu" data-lang-key="back_to_menu">返回</button>
    </div>

    <!-- 游戏主界面 -->
    <div id="game-screen" class="screen">
        <!-- 关卡一 -->
        <div id="level1" class="level active">
            <div class="hud">
                <span><span data-lang-key="hud_score">分数</span>: <span id="score">0</span></span>
                <span><span data-lang-key="hud_target">目标</span>: <span id="target-score">500</span></span>
                <span><span data-lang-key="hud_time">时间</span>: <span id="timer">30</span>s</span>
            </div>
            <div id="game-area1">
                <div id="player-box"><img src="images/box.png" alt="box"></div>
            </div>
        </div>
        <!-- 关卡过渡 -->
        <div id="level-transition" class="level">
            <h2 data-lang-key="transition_text">恭喜过关！准备发车！</h2>
        </div>
        <!-- 关卡二 -->
        <div id="level2" class="level">
             <div class="hud">
                <span><span data-lang-key="hud_remaining_time">剩余时间</span>: <span id="remaining-time">35.0</span>s</span>
             </div>
             <div id="progress-bar-container">
                <div id="progress-bar"></div>
                <span id="progress-percentage">0%</span>
             </div>
             <div id="game-area2">
                <div id="player-truck"><img src="images/truck.png" alt="truck"></div>
                <div id="feedback-text"></div>
             </div>
        </div>
    </div>

    <!-- 成功/失败界面 -->
    <div id="level2-end-screen" class="screen">
        <div class="end-content">
            <img src="images/4s_store.png" alt="Result" class="end-image">
            <h2 id="end-title"></h2>
            <div id="end-details" class="final-time-details"></div>
            <button id="continue-to-leaderboard-btn" data-lang-key="success_continue">查看最终得分</button>
        </div>
    </div>

    <!-- 游戏结束/积分榜界面 -->
    <div id="game-over-screen" class="screen">
        <h2 id="final-score-title"><span data-lang-key="final_score">最终得分</span>: <span id="final-score">0</span></h2>
        <div id="leaderboard">
            <h3 data-lang-key="online_leaderboard">在线积分榜</h3>
            <ol id="leaderboard-list"></ol>
        </div>
        <button id="restart-game-btn" data-lang-key="back_to_menu">返回主菜单</button>
    </div>

    <!-- 独立的排行榜界面 -->
    <div id="leaderboard-screen" class="screen">
        <h2 data-lang-key="online_leaderboard">在线积分榜</h2>
        <div id="leaderboard-display">
             <ol id="leaderboard-list-display"></ol>
        </div>
        <button class="back-to-menu" data-lang-key="back_to_menu">返回</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
